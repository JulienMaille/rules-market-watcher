<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="refresh" content="60" />
<script>
var allCardModels = [
  {
    "id": "62bd72e82ecd6ab6cf1e6462",
    "slug": "le-reglement-season-1-common",
    "name": "Le Réglement Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbGUtcmVnbGVtZW50LXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd72ee2ecd6ab6cf1e6467",
    "slug": "le-reglement-season-1-platinium",
    "name": "Le Réglement Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbGUtcmVnbGVtZW50LXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd72f22ecd6ab6cf1e646c",
    "slug": "caballero-season-1-common",
    "name": "Caballero Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvY2FiYWxsZXJvLXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd72f82ecd6ab6cf1e6471",
    "slug": "caballero-season-1-platinium",
    "name": "Caballero Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvY2FiYWxsZXJvLXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd72fc2ecd6ab6cf1e6476",
    "slug": "jeanjass-season-1-common",
    "name": "JeanJass Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvamVhbmphc3Mtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73032ecd6ab6cf1e647b",
    "slug": "jeanjass-season-1-platinium",
    "name": "JeanJass Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvamVhbmphc3Mtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73062ecd6ab6cf1e6480",
    "slug": "zuukou-mayzie-season-1-common",
    "name": "Zuukou Mayzie Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvenV1a291LW1heXppZS1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd730b2ecd6ab6cf1e6485",
    "slug": "zuukou-mayzie-season-1-platinium",
    "name": "Zuukou Mayzie Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvenV1a291LW1heXppZS1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd730f2ecd6ab6cf1e648a",
    "slug": "benjamin-epps-season-1-common",
    "name": "Benjamin Epps Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvYmVuamFtaW4tZXBwcy1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73152ecd6ab6cf1e648f",
    "slug": "benjamin-epps-season-1-platinium",
    "name": "Benjamin Epps Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvYmVuamFtaW4tZXBwcy1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73182ecd6ab6cf1e6494",
    "slug": "thahomey-season-1-common",
    "name": "thaHomey Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvdGhhaG9tZXktc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd731d2ecd6ab6cf1e6499",
    "slug": "thahomey-season-1-platinium",
    "name": "thaHomey Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvdGhhaG9tZXktc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd731f2ecd6ab6cf1e649e",
    "slug": "so-la-lune-season-1-common",
    "name": "So La Lune Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc28tbGEtbHVuZS1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73232ecd6ab6cf1e64a3",
    "slug": "so-la-lune-season-1-platinium",
    "name": "So La Lune Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc28tbGEtbHVuZS1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73252ecd6ab6cf1e64a8",
    "slug": "sheldon-season-1-common",
    "name": "Sheldon Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2hlbGRvbi1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73292ecd6ab6cf1e64ad",
    "slug": "sheldon-season-1-platinium",
    "name": "Sheldon Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2hlbGRvbi1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd732c2ecd6ab6cf1e64b2",
    "slug": "youv-dee-season-1-common",
    "name": "Youv Dee Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMveW91di1kZWUtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73322ecd6ab6cf1e64b7",
    "slug": "youv-dee-season-1-platinium",
    "name": "Youv Dee Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMveW91di1kZWUtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73342ecd6ab6cf1e64bc",
    "slug": "livai-season-1-common",
    "name": "Livaï Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbGl2YWktc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73392ecd6ab6cf1e64c1",
    "slug": "livai-season-1-platinium",
    "name": "Livaï Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbGl2YWktc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd733c2ecd6ab6cf1e64c6",
    "slug": "flem-season-1-common",
    "name": "Flem Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZmxlbS1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73422ecd6ab6cf1e64cb",
    "slug": "flem-season-1-platinium",
    "name": "Flem Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZmxlbS1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73452ecd6ab6cf1e64d0",
    "slug": "spider-zed-season-1-common",
    "name": "Spider Zed Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc3BpZGVyLXplZC1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd734b2ecd6ab6cf1e64d5",
    "slug": "spider-zed-season-1-platinium",
    "name": "Spider Zed Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc3BpZGVyLXplZC1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd734e2ecd6ab6cf1e64da",
    "slug": "lycos-season-1-common",
    "name": "Lycos Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbHljb3Mtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd735b2ecd6ab6cf1e64df",
    "slug": "lycos-season-1-platinium",
    "name": "Lycos Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbHljb3Mtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd735e2ecd6ab6cf1e64e4",
    "slug": "winnterzuko-season-1-common",
    "name": "Winnterzuko Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvd2lubnRlcnp1a28tc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73652ecd6ab6cf1e64e9",
    "slug": "winnterzuko-season-1-platinium",
    "name": "Winnterzuko Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvd2lubnRlcnp1a28tc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73682ecd6ab6cf1e64ee",
    "slug": "jewel-usain-season-1-common",
    "name": "Jewel Usain Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvamV3ZWwtdXNhaW4tc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd736d2ecd6ab6cf1e64f3",
    "slug": "jewel-usain-season-1-platinium",
    "name": "Jewel Usain Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvamV3ZWwtdXNhaW4tc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73712ecd6ab6cf1e64f8",
    "slug": "slimka-season-1-common",
    "name": "Slimka Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2xpbWthLXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73762ecd6ab6cf1e64fd",
    "slug": "slimka-season-1-platinium",
    "name": "Slimka Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2xpbWthLXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd737c2ecd6ab6cf1e6502",
    "slug": "8ruki-season-1-common",
    "name": "8ruki Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvOHJ1a2ktc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73822ecd6ab6cf1e6507",
    "slug": "8ruki-season-1-platinium",
    "name": "8ruki Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvOHJ1a2ktc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73852ecd6ab6cf1e650c",
    "slug": "mahdi-ba-season-1-common",
    "name": "Mahdi Ba Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbWFoZGktYmEtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd738a2ecd6ab6cf1e6511",
    "slug": "mahdi-ba-season-1-platinium",
    "name": "Mahdi Ba Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbWFoZGktYmEtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd738d2ecd6ab6cf1e6516",
    "slug": "jwles-season-1-common",
    "name": "Jwles Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvandsZXMtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73932ecd6ab6cf1e651b",
    "slug": "jwles-season-1-platinium",
    "name": "Jwles Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvandsZXMtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73962ecd6ab6cf1e6520",
    "slug": "azur-season-1-common",
    "name": "Azur Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvYXp1ci1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd739b2ecd6ab6cf1e6525",
    "slug": "azur-season-1-platinium",
    "name": "Azur Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvYXp1ci1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd739d2ecd6ab6cf1e652a",
    "slug": "moji-x-sboy-season-1-common",
    "name": "Moji x Sboy Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbW9qaS14LXNib3ktc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73a22ecd6ab6cf1e652f",
    "slug": "moji-x-sboy-season-1-platinium",
    "name": "Moji x Sboy Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvbW9qaS14LXNib3ktc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73a52ecd6ab6cf1e6534",
    "slug": "rowjay-season-1-common",
    "name": "Rowjay Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvcm93amF5LXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73aa2ecd6ab6cf1e6539",
    "slug": "rowjay-season-1-platinium",
    "name": "Rowjay Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvcm93amF5LXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73ad2ecd6ab6cf1e653e",
    "slug": "zinee-season-1-common",
    "name": "Zinée Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvemluZWUtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73b32ecd6ab6cf1e6543",
    "slug": "zinee-season-1-platinium",
    "name": "Zinée Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvemluZWUtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73b72ecd6ab6cf1e6548",
    "slug": "skuna-season-1-common",
    "name": "Skuna Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2t1bmEtc2Vhc29uLTEtY29tbW9uLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73bb2ecd6ab6cf1e654d",
    "slug": "skuna-season-1-platinium",
    "name": "Skuna Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvc2t1bmEtc2Vhc29uLTEtcGxhdGluaXVtLmpwZyIsImVkaXRzIjp7fX0="
  },
  {
    "id": "62bd73bf2ecd6ab6cf1e6552",
    "slug": "di-meh-season-1-common",
    "name": "Di-Meh Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZGktbWVoLXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73c62ecd6ab6cf1e6557",
    "slug": "di-meh-season-1-platinium",
    "name": "Di-Meh Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZGktbWVoLXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73ca2ecd6ab6cf1e655c",
    "slug": "jmks-season-1-common",
    "name": "JMK$ Season 1 - Common",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvam1rcy1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73d02ecd6ab6cf1e6561",
    "slug": "jmks-season-1-platinium",
    "name": "JMK$ Season 1 - Platinium",
    "tier": 2,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvam1rcy1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "62bd73d32ecd6ab6cf1e6566",
    "slug": "deen-burbigo-season-1-common",
    "name": "Deen Burbigo Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZGVlbi1idXJiaWdvLXNlYXNvbi0xLWNvbW1vbi5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "62bd73d92ecd6ab6cf1e656b",
    "slug": "deen-burbigo-season-1-platinium",
    "name": "Deen Burbigo Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMvZGVlbi1idXJiaWdvLXNlYXNvbi0xLXBsYXRpbml1bS5qcGciLCJlZGl0cyI6e319"
  },
  {
    "id": "63346c1426e17ee5733ce2b9",
    "slug": "kerchak-season-1-common",
    "name": "Kerchak Season 1 - Common",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMva2VyY2hhay1zZWFzb24tMS1jb21tb24uanBnIiwiZWRpdHMiOnt9fQ=="
  },
  {
    "id": "63346c2d26e17ee5733ce2be",
    "slug": "kerchak-season-1-platinium",
    "name": "Kerchak Season 1 - Platinium",
    "tier": 1,
    "pictureUrl": "https://assets.rules.art/eyJidWNrZXQiOiJydWxlc2xhYnMtaW1hZ2VzIiwia2V5IjoiY2FyZC1tb2RlbHMva2VyY2hhay1zZWFzb24tMS1wbGF0aW5pdW0uanBnIiwiZWRpdHMiOnt9fQ=="
  }
];

function listings() {
  const fetchPromise = fetch("https://js76hmpzh9-dsn.algolia.net/1/indexes/offers-price-asc/query?x-algolia-agent=Algolia%20for%20JavaScript%20(4.13.0)%3B%20Browser", {
    "headers": {
      "accept": "*/*",
      "content-type": "application/x-www-form-urlencoded",
      "sec-fetch-dest": "empty",
      "sec-fetch-mode": "cors",
      "sec-fetch-site": "cross-site",
      "x-algolia-api-key": "c7d162df9bb45f258af878219300d8c5",
      "x-algolia-application-id": "JS76HMPZH9"
    },
    "referrer": "https://rules.art/",
    "referrerPolicy": "strict-origin-when-cross-origin",
    "body": "{\"query\":\"\",\"facetFilters\":[\"available:-false\"],\"page\":0,\"hitsPerPage\":1024}",
    "method": "POST",
    "mode": "cors",
    "credentials": "omit"
  });

  fetchPromise.then(response => {
    return response.json();
  }).then(json => {
    //console.log(json);
    for (const listing of json.hits) {
      let priceETH = parseInt(listing.price, 16)/10**18;
      let priceEUR = (priceETH * 1377).toFixed(0);
      let card = cardInfo(listing.cardModelId);
      let date = new Date(listing.date);
      let url = "https://rules.art/card/" + card.slug + "/" + listing.serialNumber;

      //console.log(listing);
      let cardIsPlat = card.slug.includes("platinium");
      let cardName = card.name.replace(' Season 1 - Common', '');
      cardName = cardName.replace(' Season 1 - Platinium', '');

      let recent = (new Date - date < 30 * 60 * 1000 );
      let classes = recent ? "recent" : "old";
      classes += card.tier==1 ? " toptier" : " lowtier"

      if( priceEUR<=50 && (listing.serialNumber < 100 || cardIsPlat) && recent )
        notify(cardName + " #" + listing.serialNumber + ": €" + priceEUR, url, card.pictureUrl);

      let t = "<td id='card'><a href='" + url + "' target='_blank'>" + cardName + "</a></td>"
            + "<td id='serial'>" + listing.serialNumber + "</td>"
            + "<td id='price'>" + priceEUR + " €</td>"
            + "<td id='date'>" + date.toLocaleString() + "</td>";
      insertInTable(t, cardIsPlat, listing.serialNumber, classes);
    }

    document.querySelector("#update").innerHTML = "updated at " + (new Date).toLocaleString() + " - " + json.nbHits + " listings";

    let searchParams = new URLSearchParams(window.location.search);
    for( const [ key, value ] of searchParams ){
      if( value=="false" ) document.querySelector("#"+key).click();
    }
  });
};

function insertInTable(row, cardIsPlat, serialNumber, classes) {
  let tableId = "#tableHigh";
  if( cardIsPlat ) tableId = "#tablePlat";
  else if( serialNumber <= 10 ) tableId = "#tableLowTen";
  else if( serialNumber <= 100 ) tableId = "#tableLowHundred";
  else if( serialNumber <= 500 ) tableId = "#tableLowFiveHundred";

  let roundClass = serialNumber.toPrecision(1)==serialNumber ? "round" : "notround";

  const tableRef = document.querySelector(tableId);
  var newRow = tableRef.insertRow(tableRef.rows.length);
  newRow.className = roundClass + " " + classes;
  newRow.innerHTML = row;
}

function cardInfo(modelId) {
  return allCardModels.find(({ id }) => id == modelId);
}

function setVisibility(className, visible) {
  elements = document.getElementsByClassName(className);
  for (var i = 0; i < elements.length; i++) {
    elements[i].style.display = visible ? 'table-row' : 'none';
  }
  var queryParams = new URLSearchParams(window.location.search);
  queryParams.set(className, visible);
  history.replaceState(null, null, "?"+queryParams.toString());
}

document.addEventListener('DOMContentLoaded', function () {
  if( !Notification )
    console.log('Browser does not support notifications.');
  else if( Notification.permission !== 'granted' )
    Notification.requestPermission();
});
  
function notify(content, link, picture) {
  var notification = new Notification(content, {
    icon: picture,
    body: link
  });
}

listings();
</script>
<style>
 body {background-color: black; color: #CCC; font-family: Roboto,Helvetica;}
 table {border-collapse: collapse; text-align: right; font-size: 14px; border: 1px #555 solid; float:left; margin-right: 14px;}
 label {background: #05F; margin-right: 14px;}
 .recent #date {color: #CC0;}
 #card a {color: white; text-decoration: none;}
 #tablePlat #card a {color: gold; text-decoration: none;}
 #tableLowTen #serial {color: #9f04dc;}
 #tableLowHundred #serial {color: #03a9f4;}
 #tableLowFiveHundred #serial {color: #ff9800;}
 #update {color: #777;}
</style>
</head>
<body>
<div>
  <label for="old">show old listings
    <input type="checkbox" id="old" onchange="setVisibility('old', this.checked);" checked></input>
  </label>
  <label for="notround">show not round
    <input type="checkbox" id="notround" onchange="setVisibility('notround', this.checked);" checked></input>
  </label>
  <label for="lowtier">show lower tier (not finalists)
    <input type="checkbox" id="lowtier" onchange="setVisibility('lowtier', this.checked);" checked></input>
  </label>
  <span id="update"></span>
</div>
<table border=1>
  <thead>
    <tr>
      <th scope="col">Artist</th>
      <th scope="col">Plat</th>
      <th scope="col">Price</th>
      <th scope="col">Date</th>
   </tr>
  </thead>
  <tbody id="tablePlat">
  </tbody>
</table>
<table border=1>
  <thead>
    <tr>
      <th scope="col">Artist</th>
      <th scope="col">≤10</th>
      <th scope="col">Price</th>
      <th scope="col">Date</th>
   </tr>
  </thead>
  <tbody id="tableLowTen">
  </tbody>
</table>
<table border=1>
  <thead>
    <tr>
      <th scope="col">Artist</th>
      <th scope="col">≤100</th>
      <th scope="col">Price</th>
      <th scope="col">Date</th>
   </tr>
  </thead>
  <tbody id="tableLowHundred">
  </tbody>
</table>
<table border=1>
  <thead>
    <tr>
      <th scope="col">Artist</th>
      <th scope="col">≤500</th>
      <th scope="col">Price</th>
      <th scope="col">Date</th>
   </tr>
  </thead>
  <tbody id="tableLowFiveHundred">
  </tbody>
</table>
<table border=1>
  <thead>
    <tr>
      <th scope="col">Artist</th>
      <th scope="col">#</th>
      <th scope="col">Price</th>
      <th scope="col">Date</th>
   </tr>
  </thead>
  <tbody id="tableHigh">
  </tbody>
</table>
</body>
</html>
